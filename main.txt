// Join Main Dimension when you press
// the ` key (next to the 1)

window.Main = class {

  constructor(thing){
    Object.assign(this, thing);
  }

  build() {
    let thisDimKey = this.dimKey;

    let mainDimension = thisDimKey.substr(0, thisDimKey.length - 4);

    dimension[thisDimKey].element.onkeyup = function(e){

      if(e.keyCode == 192){
        dimension[mainDimension] = new Dimension(mainDimension, 'body');
        let mainDimElem = dimension[mainDimension].element
        dimension[mainDimension].build();
        $(mainDimElem).css({
          transition : "transform 0s ease",
          transform : "scale3d(2, 1.67, 1)",
          visibility : "hidden"
        })
        setTimeout(function(){
          $(mainDimElem).css({
            transition : "transform 0.5s ease-in",
            visibility : "visible"
          })
          let theGateDoor = $(mainDimElem).children('.gateway').children('.gatewayDoor');
          let theGateLabel = $(mainDimElem).children('.gateway').children('.gatewayLabel');
          theGateLabel.text(thisDimKey);
          $(dimension[thisDimKey].element).css({
            pointerEvents : "none"
          })
          theGateDoor.append(dimension[thisDimKey].element);
          $(mainDimElem).css({
            transform : "scale3d(1, 1, 1)"
          })
          $(mainDimElem).focus();
        }, 150);
      }

    }

  }

}
